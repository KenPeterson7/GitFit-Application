(window.webpackJsonp=window.webpackJsonp||[]).push([[2,7,14],{1006:function(e,t,r){"use strict";r.d(t,"b",(function(){return o})),r.d(t,"d",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return h}));var n=r(1);r(21),r(22),r(35);function o(e){var{data:data,filename:t}=e,a=document.createElement("a");a.href=data,a.style="display: none",a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}function c(e){return d.apply(this,arguments)}function d(){return(d=Object(n.a)((function*(e){var{$api:t,url:r}=e,{data:data}=yield t.get(r,{responseType:"arraybuffer"});return URL.createObjectURL(new Blob([data]))}))).apply(this,arguments)}function l(e){return m.apply(this,arguments)}function m(){return(m=Object(n.a)((function*(e){var{$api:t,url:r,filename:n}=e;o({data:yield c({$api:t,url:r}),filename:n})}))).apply(this,arguments)}function f(e){var{format:t,formats:r={}}=e;if(t)return t;var[n]=Object.entries(r)[0];return n}function h(e,t){var r=e.name.toLowerCase().split(" ").join("-");return"".concat(r,".").concat(t)}},1009:function(e,t,r){var content=r(1059);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(68).default)("4a6cb020",content,!0,{sourceMap:!1})},1040:function(e,t,r){"use strict";r(14);var n=r(12),o=r(1045),c=r(242),d=r(19);function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}t.a={computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({brandPlan(){return this.catalog.find((e=>{var{code:code}=e;return"account-plan"===code||"brand-plan"===code}))},premiumFeatures(){return this.brandPlan.products.map((e=>{var{code:code}=e;return code}))},price(){return Object(o.c)(this.brandPlan,this.interval)},formattedForGA(){return Object(c.d)(this.brandPlan)}},Object(d.e)("app",["catalog"])),methods:{checkIsPremiumFeature(e){return this.premiumFeatures.includes(e)}}}},1045:function(e,t,r){"use strict";r.d(t,"c",(function(){return c})),r.d(t,"d",(function(){return m})),r.d(t,"b",(function(){return l})),r.d(t,"a",(function(){return d}));var n=r(1),o=(r(35),r(25),r(13)),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="usd",n=e.prices.find((e=>{var{recurring:n,currency:o}=e,c=t?n&&n.interval===t:!n;return o===r&&c}));return n||null},d=(e,t)=>{if("COMPLETED"!==e.status)return t.error("".concat(e.name||"File"," not ready to download, please try again."));var a=document.createElement("a");a.href=e.url,a.download=e.name,a.setAttribute("donwload",e.name),"pdf"!==e.format?(document.body.appendChild(a),a.target="_blank",a.click(),document.body.removeChild(a),o.a.$emit(o.b.AnalyticsDownloadFile,{type:"Package File",id:e.name}),t.success("".concat(e.name||"File"," has been downloaded."))):window.open(e.url)},l=function(){var e=Object(n.a)((function*(e,t,r){var{data:data}=yield t.get("/api/v3/assets/fonts/".concat(e,"?url=true"));d({url:data.cdn_url||data.font_url,name:data.filename,status:data.font_url?"COMPLETED":null},r)}));return function(t,r,n){return e.apply(this,arguments)}}(),m=e=>e.split("-").map((e=>e.replace("package","kit"))).map((e=>e.charAt(0).toUpperCase()+e.substring(1))).join(" ")},1057:function(e,t,r){var map={"./":[997,7],"./business-card-1":[1047,38],"./business-card-1.js":[1047,38],"./collage-2":[1048,39],"./collage-2.js":[1048,39],"./collage-3":[1049,40],"./collage-3.js":[1049,40],"./collage-4":[1050,146],"./collage-4.js":[1050,146],"./google-ad-1":[1051,41],"./google-ad-1.js":[1051,41],"./greeting-card-1":[1052,42],"./greeting-card-1.js":[1052,42],"./greeting-card-2":[1053,43],"./greeting-card-2.js":[1053,43],"./index":[997,7],"./index.js":[997,7],"./iphone-mockup-1":[1054,44],"./iphone-mockup-1.js":[1054,44],"./pizza-box-1":[1055,45],"./pizza-box-1.js":[1055,45],"./t-shirt-2":[1056,46],"./t-shirt-2.js":[1056,46]};function n(e){if(!r.o(map,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=map[e],n=t[0];return r.e(t[1]).then((function(){return r(n)}))}n.keys=function(){return Object.keys(map)},n.id=1057,e.exports=n},1058:function(e,t,r){"use strict";r(1009)},1059:function(e,t,r){var n=r(67)((function(i){return i[1]}));n.push([e.i,".button-width[data-v-8f302bd8]{max-width:10rem}",""]),n.locals={},e.exports=n},1090:function(e,t){},1091:function(e,t){},1092:function(e,t){},996:function(e,t,r){"use strict";r.r(t);var n=r(1),o=(r(69),r(21),r(22),r(1006)),c=r(239),d=r(119),content=r(117),l=r(1046),m=r(1089),f=r(85),h=r(998),v={components:{Watermark:c.a,Skeleton:d.a},mixins:[Object(content.d)(["data/call-to-actions","data/error-toasts"],!0)],props:{showWatermark:{type:Boolean,default:!1},canvasClass:{type:String,default:""},canvasStyle:{type:String,default:""},exportWidth:{type:Number,default:1500},background:{type:String,default:"transparent"},showDownload:{type:Boolean,default:!1},cover:{type:Boolean,default:!1},mockup:{type:[Object],required:!0},logo:{type:[Object],required:!0},showLoader:{type:Boolean,default:!0},loaderClass:{type:String,default:"w-full h-full"}},data:()=>({dataUri:null,logoElement:null,canvas:null,id:Math.round(1e4*Math.random()).toString(),mockupWidth:null,mockupHeight:null,exporting:!1,loadedMockup:null,logoSvg:null,rendered:!1,defaultSvgAttributes:{xmlns:"http://www.w3.org/2000/svg",version:"1.1","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:svgjs":"http://svgjs.com/svgjs"}}),computed:{loading(){return!this.rendered},iconOnlyUrl(){return Object(h.a)({logo:this.logo.id,template:"icon-only",fit:"contain",background:"transparent",margins:0,u:this.logo.updated_at,format:"webp",quality:60})},logoWhiteUrl(){return Object(h.a)({logo:this.logo.id,primary:"#ffffff",background:"transparent",secondary:"#ffffff",accent:"#ffffff",tertiary:"#ffffff",quaternary:"#000000",margins:0,u:this.logo.updated_at,fit:"contain",format:"webp",quality:60})},logoBlackUrl(){return Object(h.a)({logo:this.logo.id,primary:"#000000",background:"transparent",secondary:"#000000",accent:"#000000",tertiary:"#000000",quaternary:"#ffffff",margins:0,u:this.logo.updated_at,fit:"contain",format:"webp",quality:60})},overrides(){var e;if("string"==typeof this.logo)return{};var t=this.logo.assets.wordmark_fonts[0],r=this.logo.assets.slogan_fonts,n=r.length>0?r[0]:null,o=n?n.id:null,c=n?n.name:null,d=null!==(e=this.logo.assets.palette)&&void 0!==e?e:this.logo.assets.palettes[0];return{"image.logo":!0,"image.icon_only":!0,"palette.primary":d.primary,"palette.secondary":d.secondary,"palette.tertiary":d.tertiary,"palette.quaternary":d.quaternary,"palette.accent":d.accent,"image.icon_only":this.iconOnlyUrl,"palette.background":d.background,"colors.hex.background":d.background,"colors.hex.primary":d.primary,"colors.hex.secondary":d.secondary,"colors.hex.tertiary":d.tertiary,"colors.hex.quaternary":d.quaternary,"colors.hex.accent":d.accent,"font.wordmark.id":t.id,"font.wordmark.name":t.name,"font.slogan.id":o,"font.slogan.name":c,"image.logo_white":this.logoWhiteUrl,"image.logo_black":this.logoBlackUrl}},logoIsURL(){return this.logo.startsWith("http")}},watch:{mockup(){this.loadAndRenderCanvas()},logo(){this.loadAndRenderCanvas()},background(e){this.canvas.backgroundColor=e}},mounted(){var e=this;return Object(n.a)((function*(){if(e.$refs.svg){try{e.canvas=new m.fabric.StaticCanvas(e.id)}catch(e){}yield e.loadAndRenderCanvas()}}))()},methods:{exportMockup(){var e=this;return Object(n.a)((function*(){if(!e.exporting){e.exporting=!0,yield e.canvas.requestRenderAll();try{var t=e.exportWidth/e.canvas.getWidth(),r=e.canvas.toDataURL({multiplier:t});Object(o.b)({data:r,filename:e.loadedMockup.name+".png"})}catch(t){e.$logger.error(t),e.$fetchState.pending||e.$toast.error(e.page["error-toasts"].download_failed)}finally{e.exporting=!1}}}))()},loadAndRenderCanvas(){var e=this;return Object(n.a)((function*(){try{if(!e.loadedMockup)if(e.mockup.id)e.loadedMockup=yield e.fetchFromAPI();else{var t=yield r(1057)("./".concat(e.mockup.name));e.loadedMockup=t.default}e.canvas.setDimensions({width:e.loadedMockup.width,height:e.loadedMockup.height}),yield e.render(),e.rendered=!0,e.$emit("rendered")}catch(e){console.log("e",e)}}))()},render(){var e=this;return Object(n.a)((function*(){if("object"==typeof e.logo&&e.logo.svg){var t=Object(l.a)().addTo(e.$refs.svg),r=t.svg(e.logo.svg).findOne("#tight-bounds").children()[0];r.attr(e.defaultSvgAttributes),e.logoSvg=r.svg(),t.remove()}if(e.loadedMockup.overrides)for(var n in e.loadedMockup.overrides){var o=e.loadedMockup.overrides[n],c=e.overrides[o];c&&(e.loadedMockup[n]=c)}e.loadedMockup.objects.map((t=>{if(t.overrides)for(var r in t.overrides)if(e.overrides[t.overrides[r]]&&(t[r]=e.overrides[t.overrides[r]],t.overrides[r].includes("image"))){var n=t.width*t.scaleX,o=t.height*t.scaleY;if(t.width=n,t.height=o,t.scaleX=1,t.scaleY=1,"string"!=typeof e.overrides[t.overrides[r]]&&e.logoSvg)try{var c=Object(l.a)().addTo(e.$refs.svg).size(t.width,t.height);c.attr(e.defaultSvgAttributes);var d=c.group();d.svg(e.logoSvg);var m=d.first();m.width(t.width);var{height:f,width:h}=m.attr();f>t.height&&m.height(t.height),h>t.width&&m.width(t.width),m.center(t.width/2,t.height/2),m.attr({viewbox:"0 0 ".concat(t.width," ").concat(t.height)}),t.src="data:image/svg+xml;base64,"+btoa(c.svg()),c.remove()}catch(e){console.log("e",e)}else t.src+="&width=".concat(n,"&height=").concat(o)}})),yield e.loadAllFonts(e.loadedMockup.objects),yield new Promise((t=>{try{e.canvas.loadFromJSON(e.loadedMockup,(()=>{e.canvas.setBackgroundColor(e.loadedMockup.background,(()=>{e.canvas.renderAll(),e.dataUri=e.canvas.toDataURL({}),t()}))}))}catch(e){}}))}))()},loadAllFonts:e=>Object(n.a)((function*(){var t=e.map(function(){var e=Object(n.a)((function*(e){if(e.fontId){var t="https://cdn.logo.com/assets/fonts/".concat(e.fontId,".ttf"),r="".concat(e.fontFamily," ").concat(e.fontWeight," ").concat(e.fontStyle);return Object(f.a)(r,t)}}));return function(t){return e.apply(this,arguments)}}());yield Promise.all(t)}))(),fetchFromAPI(){var e=this;return Object(n.a)((function*(){try{var{data:data}=yield e.$api.get("/api/v2/stitch/mockups/"+e.mockup.id,{params:{relations:"canvas.pages"}}),{name:t,canvas:canvas}=data,{background:r,objects:n,overrides:o}=canvas.pages[0];return{height:canvas.height,width:canvas.width,background:r,objects:n,name:t,overrides:o}}catch(e){console.error(e)}}))()}}},y=v,k=(r(1058),r(10)),component=Object(k.a)(y,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"container",staticClass:"w-full",on:{contextmenu:function(e){e.preventDefault()}}},[e.loading&&e.showLoader?r("Skeleton",{class:e.loaderClass}):e._e(),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],staticClass:"w-full h-full"},[e.showWatermark?r("div",{staticClass:"relative"},[r("Watermark",{attrs:{background:e.background}})],1):e._e(),e._v(" "),r("canvas",{ref:"canvas",class:e.canvasClass?e.canvasClass:["w-full h-full",{"object-cover":e.cover}],style:e.canvasStyle,attrs:{id:e.id}}),e._v(" "),r("div",{ref:"svg",attrs:{id:"svg"}})]),e._v(" "),e.showDownload?r("footer",{staticClass:"p-4 text-center"},[e.$fetchState.pending&&e.showLoader?r("Skeleton",{staticClass:"w-40 h-10 mx-auto"}):r("button",{staticClass:"btn btn-secondary w-full button-width",attrs:{type:"button",disabled:e.exporting,loading:e.exporting},on:{click:function(t){return e.exportMockup(e.mockup)}}},[e._v("\n      "+e._s(e.page["call-to-actions"].download)+"\n    ")])],1):e._e()],1)}),[],!1,null,"8f302bd8",null);t.default=component.exports},997:function(e,t,r){"use strict";r.r(t),r.d(t,"DEFAULT_MOCKUP_GALLERY",(function(){return o})),r.d(t,"DEFAULT_EDITOR_MOCKUPS",(function(){return c})),r.d(t,"getMockups",(function(){return d}));r(21),r(22);var n=[{name:"picture-frame-1",id:"tpl_G54MBGXhzcwLwdc8cD"},{name:"picture-frame-2",id:"tpl_fw1FFRv4letKvDNJ7m"},{name:"greeting-card-3",id:"tpl_2shrPj4ylUuYWnslYh"},{name:"picture-frame-3",id:"tpl_2Lj4gFQeOJyA5nXMSE"},{name:"business-card-1"},{name:"pizza-box-1"},{name:"greeting-card-1"},{name:"greeting-card-2"},{name:"iphone-mockup-1"},{name:"macbook-1",id:"tpl_Q9UxdzKHBAreJZMyBq"},{name:"notebook-1",id:"tpl_tKMQoiUfjlOazXddoj"},{name:"picture-frame-4",id:"tpl_T2x7Ed4v9zF024Gotu"},{name:"google-ad-1"},{name:"scene-1",id:"tpl_JEE0lImEmAKLpKg8oK"},{name:"collage-2"},{name:"collage-3"},{name:"collage-4"},{name:"stitch-example",id:"tpl_E4yVuf1SAKEpHFXJgO"},{name:"collage-modal-example",id:"tpl_EKV3XqolTJ6EbCZO9k"},{name:"t-shirt-3",id:"tpl_TgAYI5fTiReF4JUDkF"},{name:"edit-your-logo",id:"tpl_eioJ1gOa4S6utVdRuN"},{name:"stationery-1",id:"tpl_SwBBxJs4EuMCO1LkR1"},{name:"invoice-card",id:"tpl_3qZxSI8Rky17qL6yw9"},{name:"logo-resize-card",id:"tpl_080dR5qN3zo5zHBeyu"},{name:"merchandise-card",id:"tpl_ms7D7Eax8sxGwbUnwQ"},{name:"stock-images-card",id:"tpl_0Wl6ZpLyyWVcRsTFdV"},{name:"invoices-card",id:"tpl_3qZxSI8Rky17qL6yw9"},{name:"business-cards-card",id:"tpl_78cdCqdTCgdVQGWRMU"},{name:"email-signatures-card",id:"tpl_9SE4znbJbG47i3eePg"},{name:"edit-logo-card",id:"tpl_A6AJG9eazbo6xI0mvP"},{name:"brand-guidelines-card",id:"tpl_Cb6CowUZypYDrMkyI5"},{name:"mockups-card",id:"tpl_DqYINkTjNN3AgFXyFI"},{name:"letterheads-card",id:"tpl_EIG9HcMd8yZhkQU7lD"},{name:"website-images-card",id:"tpl_EKQlOjIdVssrgXF2aY"},{name:"website-builder-card",id:"tpl_Hiiw5M36tUMCQhb8wp"},{name:"logo-files-card",id:"tpl_Ixmu19BUdwUSpUJH7C"},{name:"brand-information-card",id:"tpl_jOehDicK9FwaonNr9d"},{name:"stitch-card",id:"tpl_mIUtNokK8gmjpkzJFs"},{name:"profile-card",id:"tpl_nNmU4fNCvvy8i1o4TF"},{name:"domains-card",id:"tpl_rr6nf4PGHtCNr6IpPA"},{name:"branding-guidelines-card",id:"tpl_tbfR5t9JL1wpESm0wT"},{name:"logo-zip-file-long-card",id:"tpl_WtMCmpxkpSqZlXWYiV"},{name:"logo-zip-socials-long-card",id:"tpl_OuFoaqXy5Gzfjhhkiu"},{name:"branding-files-long-card",id:"tpl_7YECRDgoh67CJ6LMCz"},{name:"brand-information-header",id:"tpl_XYKpFutvvgiy0CCt09"},{name:"website-images-header",id:"tpl_5UkqKUqQar2ad09zDo"},{name:"website-header",id:"tpl_Y9uo59u175xBdEoKGp"},{name:"domains-header",id:"tpl_3epqcLiN3ZhPu39myy"},{name:"logo-files-header",id:"tpl_lSiLNQR0BOVccWQ6tU"},{name:"merchandise-header",id:"tpl_2ocftntz24NUChJoWn"},{name:"email-signatures-header",id:"tpl_9dj7rCo4I1QDWLRbbk"},{name:"brand-guidelines-header",id:"tpl_dw9UdxV8GB3Ba1GCLJ"},{name:"stitch-header",id:"tpl_k51gJd2RkoALBbP12g"},{name:"profile-header",id:"tpl_KJDTjb6wDbfhui4zNt"},{name:"stock-images-header",id:"tpl_O0IwzizFAuUDIEhzTw"},{name:"mockups-header",id:"tpl_OQPzJaNyqJV9BcSKKE"},{name:"mockups-and-stock-images-header",id:"tpl_t83mXS5CGhHcLiVyU6"},{name:"social-media-header",id:"tpl_V1HQAIuc1bgRViK6SN"},{name:"stationery-modal",id:"tpl_SwBBxJs4EuMCO1LkR1"},{name:"t-shirt-modal",id:"tpl_TOIhDnFYRByEC1vpO3"},{name:"bag-modal",id:"tpl_JkejIvlMszc9XGZK0W"},{name:"socials-modal",id:"tpl_nr8RICdUBTvQ065OTe"}],o=["picture-frame-1","picture-frame-2","greeting-card-3","picture-frame-3","t-shirt-1","business-card-1","pizza-box-1","greeting-card-1","greeting-card-2","iphone-mockup-1","macbook-1","notebook-1","picture-frame-4","google-ad-1","scene-1","collage-2","collage-3"].map((e=>n.find((t=>t.name===e)))).filter((e=>e)),c=["picture-frame-2","notebook-1","macbook-1","collage-3","collage-2","scene-1","picture-frame-1","picture-frame-3"].map((e=>n.find((t=>t.name===e)))),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(0===e.length)return n;e=e.map((e=>"string"==typeof e?{name:e}:e));var t=[],r=function(e){var r=n.find((t=>t.name===e.name));r?t.push(r):console.warn("Mockup ".concat(e," could not be loaded."))};for(var o of e)r(o);return t}},998:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=e=>{var t=Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");return"".concat("https://api.logo.com","/api/v2/images?").concat(t)}}}]);