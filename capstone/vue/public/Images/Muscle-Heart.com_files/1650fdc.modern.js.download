(window.webpackJsonp=window.webpackJsonp||[]).push([[206],{1010:function(t,e,r){"use strict";e.a={props:{followsTitle:{type:Boolean,default:!1},params:{type:Object,default:()=>({})},block:{type:Object,default:()=>({})},first:{type:Boolean,default:!1}}}},1069:function(t,e,r){"use strict";r.r(e);var o={mixins:[r(1010).a]},n=r(10),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"my-6"},[r("p",{staticClass:"text-red-500"},[r("span",{staticClass:"font-bold"},[t._v("`"+t._s(t.block.template)+"`")]),t._v(" Not Found.\n  ")]),t._v(" "),r("pre",[t._v(t._s(t.block))])])}),[],!1,null,null,null);e.default=component.exports},1088:function(t,e,r){"use strict";var o={components:{NotFoundBlock:r(1069).default},props:{params:{type:Object,default:()=>({})},blocks:{type:Array,default:()=>[]}},data:()=>({map:{"field-editor-font-name-search":"FontFamilyNameSearch","field-editor-template-alignment":"TemplateAlignment","field-editor-design-alignment":"DesignAlignment","field-wordmark-multicolor":"WordmarkMulticolor","field-wordmark-multiline":"WordmarkMultiline","field-editor-palette-fields":"PaletteFields","field-editor-set-to-other-font":"OtherFont","field-slogan-multicolor":"SloganMulticolor","field-editor-remove-button":"RemoveButton","field-slogan-multiline":"SloganMultiline","field-editor-color-picker":"ColorPicker","field-editor-font-filters":"FontFilters","field-editor-color-preset":"ColorPreset","field-editor-icon-layout":"IconLayout","field-editor-resize-icon":"IconResize","field-editor-font-weight":"FontWeight","field-editor-change-case":"FontCase","field-editor-font-align":"FontAlign","field-editor-font-style":"FontStyle","field-editor-subtitle":"ControlSub","field-editor-font-size":"FontSize","field-editor-title":"ControlTitle","field-editor-multi-input":"Multi"}}),computed:{components(){return this.blocks.reduce(((t,e)=>{var{template:template}=e;if(!t[template]){var o=this.map[template];o&&(t[template]=()=>r(1095)("./".concat(o,"Block")))}return t}),{})}},methods:{getComponent(t){var component=this.components[t.template];return component||(console.error("Missing ".concat(t.template," block from map.")),component="NotFoundBlock"),component},followsTitle(i){var t;return"field-editor-title"===(null===(t=this.blocks[i-1])||void 0===t?void 0:t.template)}}},n=o,c=r(10),component=Object(c.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.blocks,(function(e,i){return r(t.getComponent(e),{key:i+e.template,tag:"component",attrs:{"follows-title":t.followsTitle(i),first:0===i,params:t.params,block:e}})})),1)}),[],!1,null,null,null);e.a=component.exports},1095:function(t,e,r){var map={"./ColorPickerBlock":[1160,3,147,240],"./ColorPresetBlock":[1161,256],"./ControlSubBlock":[1162,262],"./ControlTitleBlock":[1163,376],"./DesignAlignmentBlock":[1143,241],"./FontAlignBlock":[1144,248],"./FontCaseBlock":[1164,253],"./FontFamilyNameSearchBlock":[1145,377],"./FontFiltersBlock":[1146,245],"./FontSizeBlock":[1147,246],"./FontStyleBlock":[1148,254],"./FontWeightBlock":[1149,247],"./IconLayoutBlock":[1150,242],"./IconResizeBlock":[1151,255],"./MultiBlock":[1165,257],"./NotFoundBlock":[1069],"./OtherFontBlock":[1166,378],"./PaletteFieldsBlock":[1152,3,147,244],"./RemoveButtonBlock":[1167,258],"./SloganMulticolorBlock":[1153,249],"./SloganMultilineBlock":[1154,250],"./TemplateAlignmentBlock":[1155,243],"./WordmarkMulticolorBlock":[1156,251],"./WordmarkMultilineBlock":[1157,252]};function o(t){if(!r.o(map,t))return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}));var e=map[t],o=e[0];return Promise.all(e.slice(1).map(r.e)).then((function(){return r(o)}))}o.keys=function(){return Object.keys(map)},o.id=1095,t.exports=o},1120:function(t,e,r){var content=r(1180);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(68).default)("1e040dc2",content,!0,{sourceMap:!1})},1121:function(t,e,r){var content=r(1182);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(68).default)("18fe8a36",content,!0,{sourceMap:!1})},1134:function(t,e,r){"use strict";r(14);var o=r(12);function n(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function c(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?n(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):n(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a={computed:{params(){var t=Object.keys(this.$options.computed).reduce(((t,e)=>("params"!==e&&(t[e]=this[e]),t)),{});return c(c({},this.$data),t)}}}},1137:function(t,e,r){"use strict";r(14);var o=r(1),n=r(12),c=(r(21),r(22),r(245),r(35),r(97)),l=r.n(c),d=r(13),content=r(117),h=r(19);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var m={components:{ArrowRight:l.a},mixins:[Object(content.d)(["data/call-to-actions"],!0)],props:{keywordedPhrases:{type:Array,default:()=>[]},search:{type:String,default:null},disabled:{type:Boolean,default:!1},showWordark:{type:Boolean,default:!0},showSlogan:{type:Boolean,default:!0},pagination:{type:Number,default:8}},data:()=>({phrases:[],limit:8}),computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({flattenedKeywords(){var t=(this.phrases||[]).map((t=>{var{words:e}=t;return e.map((t=>{var{synonyms:e}=t;return e}))})),e=[...this.wordmark,...this.slogan,...t].flat(2);return[...new Set(e)]},displayKeywords(){return this.flattenedKeywords.slice(0,this.limit)},wordmark(){return this.showWordark?this.convertInputToArray(this.session.wordmark):[]},slogan(){return this.showSlogan?this.convertInputToArray(this.session.slogan):[]}},Object(h.e)(["session"])),watch:{keywordedPhrases(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.phrases=t||[]}},created(){this.limit=this.pagination},mounted(){this.search?this.fetchKeywords(this.search):this.phrases=this.keywordedPhrases||[],d.a.$on(d.b.AppWordCloudUpdated,this.fetchKeywords)},beforeDestroy(){d.a.$off(d.b.AppWordCloudUpdated,this.fetchKeywords)},methods:{fetchKeywords(){var t=arguments,e=this;return Object(o.a)((function*(){var r=t.length>0&&void 0!==t[0]?t[0]:"";if(r)try{var{data:data}=yield e.$api.get("https://kwd.logo.com",{params:{phrases:r.trim()}});e.phrases=data.phrases}catch(t){e.$rollbar.error("Error loading keywords for WordCloud")}}))()},convertInputToArray:input=>input?input.toLowerCase().split(" ").filter(Boolean):[]}},y=m,v=r(10),component=Object(v.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex flex-wrap -mx-2",class:{"opacity-50 cursor-not-allowed":t.disabled}},[t._l(t.displayKeywords,(function(e){return r("span",{key:e,staticClass:"btn cursor-pointer btn-naked mx-1 mb-2 text-sm rounded-full",class:{"pointer-events-none opacity-50":t.disabled},attrs:{type:"button"},on:{click:function(r){return t.$emit("select",e)}}},[t._v("\n    "+t._s(e)+"\n  ")])})),t._v(" "),t.limit<t.flattenedKeywords.length?r("span",{staticClass:"btn cursor-pointer mx-0.5 mb-1 text-xs font-bold text-green-500",class:{"pointer-events-none opacity-50":t.disabled},attrs:{type:"button"},on:{click:function(e){t.limit=t.limit+t.pagination}}},[t._v("\n    "+t._s(t.page.view_more)+"\n\n    "),r("ArrowRight",{staticClass:"w-3.5 h-3.5 ml-1 mb-px"})],1):t._e()],2)}),[],!1,null,null,null);e.a=component.exports},1140:function(t,e,r){"use strict";var o={props:{initialTabindex:{type:Number,default:-1},autofocus:{type:Boolean,default:!1},tabindex:{type:Number,default:-1}},data:()=>({classes:["cursor-pointer","outline-none","focus:shadow-primary"]}),computed:{name(){return"traverse-".concat(this._uid)}},updated(){this.$nextTick().then((()=>this.run()))},mounted(){this.$nextTick().then((()=>this.run()))},beforeDestroy(){var t,e;null===(t=this.$refs)||void 0===t||null===(e=t.traverse)||void 0===e||e.querySelectorAll("[traverse-target]").forEach((t=>{t.removeEventListener("keydown",this.handleFocus)}))},methods:{run(){var t,e;null===(t=this.$refs)||void 0===t||null===(e=t.traverse)||void 0===e||e.querySelectorAll("[traverse-target]").forEach(((t,i)=>{if(t&&!t.classList.contains(this.name)){var e=0===i?this.initialTabindex:this.tabindex;t.setAttribute("tabindex",e),t.setAttribute(this.name,i),t.classList.add(...this.classes,this.name),t.addEventListener("keydown",this.handleFocus),this.autofocus&&0===i&&t.focus()}}))},handleFocus(t){var e,{key:r,target:o}=t,i=parseInt(o.getAttribute(this.name))||0,n=null===(e=this.$refs)||void 0===e?void 0:e.traverse,c=null;"ArrowUp"===r&&(c=null==n?void 0:n.querySelector("[".concat(this.name,"='").concat(i-1,"']"))),"ArrowDown"===r&&(c=null==n?void 0:n.querySelector("[".concat(this.name,"='").concat(i+1,"']"))),c&&c.focus()}}},n=r(10),component=Object(n.a)(o,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{ref:"traverse"},[t._t("default")],2)}),[],!1,null,null,null);e.a=component.exports},1179:function(t,e,r){"use strict";r(1120)},1180:function(t,e,r){var o=r(67)((function(i){return i[1]}));o.push([t.i,".np-icon[data-v-2646249a]{max-width:50px;max-height:50px;filter:invert(45%) sepia(11%) saturate(879%) hue-rotate(176deg) brightness(96%) contrast(87%)}button:hover .np-icon[data-v-2646249a]{filter:invert(11%) sepia(32%) saturate(596%) hue-rotate(183deg) brightness(94%) contrast(96%)}",""]),o.locals={},t.exports=o},1181:function(t,e,r){"use strict";r(1121)},1182:function(t,e,r){var o=r(67)((function(i){return i[1]}));o.push([t.i,".np-icon[data-v-7adcd120]{max-width:50px;max-height:50px}.color-filter[data-v-7adcd120]{filter:contrast(0) invert(50%) sepia(11%) saturate(828%) hue-rotate(177deg) brightness(87%) contrast(92%)}button:hover .color-filter[data-v-7adcd120]{filter:invert(10%) sepia(44%) saturate(546%) hue-rotate(181deg) brightness(90%) contrast(92%)}",""]),o.locals={},t.exports=o},1189:function(t,e,r){"use strict";var o={props:{svg:{type:String,default:""},url:{type:String,default:""},iconId:{type:String,default:""},icon:{type:Object,default:()=>({})}}},n=(r(1179),r(10)),c=Object(n.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.icon.preview_url?r("img",{staticClass:"np-icon",attrs:{src:t.icon.preview_url}}):t._e()}),[],!1,null,"2646249a",null).exports,l=r(1),d={props:{url:{type:String,required:!0},icon:{type:Object,default:null}},data:()=>({path:null,width:null,height:null}),mounted(){var t=this;return Object(l.a)((function*(){try{yield t.getSvgFromUrl(),t.correctBoundingBox()}catch(t){}}))()},methods:{getSvgFromUrl(){var t=this;return Object(l.a)((function*(){try{var{data:data}=yield t.$api.get(t.url);data.paths?t.path=data.paths[0].data:t.path=data.path,t.height=data.height,t.width=data.width}catch(e){e.response&&403===e.response.status&&t.$emit("retry")}}))()},correctBoundingBox(){var t=this;return Object(l.a)((function*(){try{var svg=t.$refs.svg,e=t.$refs.path.getBBox(),r="".concat(e.x," ").concat(e.y," ").concat(e.width," ").concat(e.height);svg.setAttribute("viewBox",r)}catch(e){console.log("problem correcting icon bounding box rendering icon"),console.log("for icon from url"+t.url)}}))()}}},h=Object(n.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.path?r("svg",{ref:"svg",staticClass:"fill-current",staticStyle:{"max-width":"50px","max-height":"50px",fill:"#1f384d"},attrs:{viewBox:"0 0 "+t.width+" "+t.height,width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg"}},[r("path",{ref:"path",attrs:{d:t.path}})]):t._e()}),[],!1,null,null,null).exports,f={props:{icon:{type:Object,default:()=>({})}},computed:{preview(){var t,e,r,o=null===(t=this.icon)||void 0===t?void 0:t.raster_sizes;if(o){return null===(e=(Array.isArray(o)?o.find((t=>{var{size:e}=t;return e>100&&e<500})):o).formats)||void 0===e||null===(r=e[0])||void 0===r?void 0:r.preview_url}}}},m=(r(1181),{components:{NPIconDisplay:c,IconDisplay:h,IFIconDisplay:Object(n.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.preview?r("img",{staticClass:"np-icon color-filter",attrs:{src:t.preview,alt:"Icon preview"}}):t._e()}),[],!1,null,"7adcd120",null).exports},props:{icon:{type:Object,default:()=>({})}},computed:{child_component(){return this.icon.id.includes("NOUN_PROJECT")?"NPIconDisplay":this.icon.id.includes("ICONFINDER")?"IFIconDisplay":"IconDisplay"}}}),y=Object(n.a)(m,(function(){var t=this,e=t.$createElement;return(t._self._c||e)(t.child_component,{tag:"component",attrs:{icon:t.icon,url:t.icon.url,svg:t.icon.svg,"icon-id":t.icon.id},on:{retry:function(e){return t.$emit("retry")}}})}),[],!1,null,null,null);e.a=y.exports},1408:function(t,e,r){"use strict";r.r(e);r(14);var o=r(1),n=r(12),c=r(20),l=(r(61),r(248)),d={components:{IconRender:r(1189).a},props:{icons:{type:Array,default:()=>[]},selectedIcon:{type:Object,default:()=>({})}}},h=r(10),f=Object(h.a)(d,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"grid grid-cols-4 gap-2 mb-8"},t._l(t.icons,(function(e){return r("div",{key:e.id,staticClass:"ratio-square"},[r("button",{staticClass:"btn btn-naked w-full p-2 border-gray-100 text-center text-cool-gray-500",class:{"border-enterprise-primary":e.id===t.selectedIcon.id},attrs:{"traverse-target":"",disabled:e.id===t.selectedIcon.id},on:{click:function(r){return t.$emit("select",e)}}},[r("IconRender",{attrs:{icon:e},on:{retry:function(e){return t.$emit("retry")}}})],1)])})),0)}),[],!1,null,null,null).exports,m=r(19);function y(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var v={components:{ControlTitle:l.a,IconList:f},props:{selectedIcon:{type:Object,default:()=>({})},content:{type:Object,default:()=>({})}},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?y(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):y(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(m.c)({icons:"history/icons"}))},O=v,_=Object(h.a)(O,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.icons&&t.icons.length?r("div",[r("ControlTitle",{attrs:{title:t.content.title}}),t._v(" "),r("IconList",{attrs:{icons:t.icons,"selected-icon":t.selectedIcon},on:{retry:function(e){return t.$emit("retry",e)},select:function(e){return t.$emit("select",e)}}})],1):t._e()}),[],!1,null,null,null).exports,w=(r(245),r(97)),j=r.n(w),I=r(1137),k=r(236),content=r(117),P=r(13);function S(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?S(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):S(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var E={components:{ControlTitle:l.a,ArrowRight:j.a,WordCloud:I.a,TextInput:k.a},mixins:[content.c,content.b],props:{currentIcon:{type:Object,default:()=>({})},autoSearch:{type:Boolean,default:!1},searching:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},page:{type:Object,default:()=>({})},error:{type:String,default:""},showContinue:{type:Boolean,default:!0}},computed:x(x({search:{get(){return this.editor.icon_search_string},set(t){this.$store.commit("editor/SET_ICON_SEARCH_STRING",t)}},keywords(){return this.getKeywords}},Object(m.e)(["editor","session"])),Object(m.c)({getKeywords:"session/getKeywords"})),mounted(){this.autoSearch&&(this.search=this.search||this.keywords[0]||"",this.search&&this.doSearch())},methods:{doSearch(){P.a.$emit(P.b.AppWordCloudUpdated,this.search),this.$emit("search",this.search)},searchByKeyword(t){this.$store.commit("editor/SET_ICON_SEARCH_STRING",t),this.search=t,this.doSearch()}}};function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var $={components:{RecentIcons:_,IconSearch:Object(h.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("ControlTitle",{attrs:{title:t.page.search_title.title}}),t._v(" "),r("TextInput",{staticClass:"mb-2",attrs:{id:"icon-search-input",disabled:t.disabled,"status-message":t.error,status:t.error?"error":null,label:t.fields.search.label,placeholder:t.fields.search.placeholder,prompt:t.fields.search.prompt,tippy:t.fields.search.tippy},on:{enter:t.doSearch},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}},[r("div",{attrs:{slot:"button"},slot:"button"},[r("button",{staticClass:"h-full -ml-2",class:t.buttons.search.classes,attrs:{id:t.buttons.search.id,type:"button",disabled:t.disabled,loading:t.searching},on:{click:t.doSearch}},[t._v("\n        "+t._s(t.buttons.search.text)+"\n      ")])])]),t._v(" "),r("WordCloud",{staticClass:"mb-8",attrs:{search:t.search,"keyworded-phrases":t.session.keywordedPhrases,disabled:t.disabled},on:{select:t.searchByKeyword}}),t._v(" "),t.showContinue?r("div",{staticClass:"mb-6 text-center"},[t.currentIcon.id?t._e():r("n-link",{staticClass:"force-color",class:t.buttons.continue.classes,attrs:{id:t.buttons.continue.id,to:"/editor/colors",disabled:t.disabled},on:{click:function(e){return t.$emit("remove")}}},[t._v("\n      "+t._s(t.buttons.continue.text)+"\n\n      "),r("ArrowRight",{staticClass:"btn-icon-right"})],1)],1):t._e()],1)}),[],!1,null,null,null).exports,IconList:f,Traverse:r(1140).a},props:{currentIcon:{type:Object,default:()=>({})},updating:{type:Boolean,default:!1},page:{type:Object,default:()=>({})}},data:()=>({moreIconMessage:"Get More Icons",searching_icons:!1,noMoreResults:!1,iconErrorMessage:"",iconPage:1}),computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({icons(){var{icons:t,related_icons:e}=this.editor.icon_search_results||{};return[...this.flattenIcons(t),...this.flattenIcons(e),...this.editor.noun_project_search_results||[]]},iconId(){return this.editor.logo_preset.icons},disabled(){return!this.editor.features.includes("icons")}},Object(m.e)(["editor","session","flags"])),methods:{nextPageIcons(){var t=this;return Object(o.a)((function*(){if(!t.noMoreResults){t.iconPage+=1;var e=t.editor.noun_project_search_results.length;yield t.getIcons(t.editor.icon_search_string),e!==t.editor.noun_project_search_results.length?t.noMoreResults=!1:t.noMoreResults=!0}}))()},resetIconPage(){this.noMoreResults=!1,this.iconPage=1},searchIcons(t){this.resetIconPage(),this.$store.commit("editor/SET_ICON_SEARCH_RESULTS",{type:"noun_project",data:[]}),t?(this.getIcons(t),P.a.$emit(P.b.AnalyticsSearch,{type:"Editor Icons",search_term:t})):this.iconErrorMessage="Please enter a keyword"},getIcons(t){var e=this;return Object(o.a)((function*(){e.iconErrorMessage="",e.searching_icons=!0;var r=[];try{var o=yield e.$api.get("/api/v3/assets/icons",{params:{keywords:[t],quantity:20,page:e.iconPage,set:"nounproject"}});r=(null==o?void 0:o.data)||[]}catch(t){e.$rollbar.error("Error fetching Editor Icons",t),e.searching_icons=!1}0===r.length&&(e.iconErrorMessage="We couldn't find any icons for that keyword. Try a simple keyword like: coffee, house, bear, etc."),Array.isArray(r)&&(e.editor.noun_project_search_results&&e.editor.noun_project_search_results.length?(e.$store.commit("editor/ADD_NOUN_PROJECT_RESULTS",r),e.$store.commit("icons/ADD_ICONS",r)):(e.$store.commit("editor/SET_ICON_SEARCH_RESULTS",{type:"noun_project",data:r}),e.$store.commit("icons/ADD_ICONS",r))),e.searching_icons=!1}))()},selectIcon(t){var e=this;return Object(o.a)((function*(){e.updating||(e.$emit("setCurrentIcon",t),e.$store.commit("editor/SET_LOGO_PRESET_PROPERTY",{resource:c.a.Icons,id:t.id}),P.a.$emit(P.b.EcommerceSelectContent,{type:"icon",id:t.id}),yield e.$store.dispatch("editor/fetchNewLogoFromState"))}))()},splitStringIntoNumberArray:t=>t.match(/\d+/g).map(Number),flattenIcons(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=Object.values(t);return e.length?e.reduce(((t,e)=>t.concat(e.filter((e=>!t.some((t=>{var{id:r}=t;return r===e.id})))))),[]):[]}}},B=$,D=Object(h.a)(B,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("RecentIcons",{staticClass:"mb-8",attrs:{id:"recent-icons",content:t.page.recent_icons_title,"selected-icon":t.currentIcon},on:{select:t.selectIcon,retry:t.searchIcons}}),t._v(" "),r("IconSearch",{attrs:{"current-icon":t.currentIcon,searching:t.searching_icons,error:t.iconErrorMessage,disabled:t.disabled,page:t.page},on:{search:t.searchIcons}}),t._v(" "),!t.disabled&&t.icons&&t.icons.length?r("Traverse",{attrs:{"initial-tabindex":2}},[r("IconList",{attrs:{id:"icon-results","selected-icon":t.currentIcon,icons:t.icons},on:{select:t.selectIcon,retry:t.searchIcons}}),t._v(" "),t.noMoreResults?t._e():r("div",{staticClass:"text-center mb-4 mt-1"},[r("button",{staticClass:"btn btn-secondary",attrs:{type:"button",disabled:t.searching_icons,loading:t.searching_icons},on:{click:t.nextPageIcons}},[t._v("\n        "+t._s(t.moreIconMessage)+"\n      ")])])],1):t._e()],1)}),[],!1,null,null,null).exports,T=r(1088),A=r(1134);function R(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?R(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):R(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var N={transition:"fade",components:{IconControl:D,List:T.a},mixins:[Object(content.d)(["editor/controls/icons"]),A.a,content.e],data:()=>({currentIcon:{}}),computed:F(F({disabled(){return!this.editor.features.includes("icons")},picker(){return{palette:this.editor.logo_preset.palette_hex,property:this.templateOptions.icon_color}},iconId(){return this.editor.logo_preset.icons}},Object(m.e)(["editor"])),Object(m.c)({templateOptions:"editor/templateOptions",updating:"editor/loading_overlay_visible"})),mounted(){P.a.$on(P.b.EditorRemoveElement,this.removeIcon),P.a.$on(P.b.EditorSetCustomPalette,this.setPaletteProperty),this.currentIcon.id||this.getCurrentIcon()},beforeDestroy(){P.a.$off(P.b.EditorRemoveElement,this.removeIcon),P.a.$off(P.b.EditorSetCustomPalette,this.setPaletteProperty)},methods:F({getCurrentIcon(){var t=this;return Object(o.a)((function*(){if(t.iconId)try{var{data:data}=yield t.$api.get("/api/v3/assets/icons/".concat(t.iconId));t.currentIcon=data}catch(e){t.$rollbar.error('Error loading icon "'.concat(t.iconId,'" into Current Icon'),e)}}))()},removeIcon(){var t=this;return Object(o.a)((function*(){t.currentIcon={},t.$store.commit("editor/SET_LOGO_PRESET_PROPERTY",{resource:c.a.Icons,id:""}),yield t.$store.dispatch("editor/fetchNewLogoFromState")}))()},setPaletteProperty(t){var e=this;return Object(o.a)((function*(){var{property:r,value:o}=t;e.$store.dispatch("editor/setPaletteProperty",{property:r,value:o}),yield e.$store.dispatch("editor/fetchNewLogoFromState")}))()}},Object(m.d)({setUpdating:"editor/TOGGLE_LOADING_OVERLAY_VISIBILITY"}))},M=Object(h.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.iconId?r("List",{attrs:{blocks:t.page.inputs,params:t.params}}):t._e(),t._v(" "),r("IconControl",{attrs:{"current-icon":t.currentIcon,updating:t.updating,page:t.page},on:{setCurrentIcon:function(e){t.currentIcon=e},setUpdating:t.setUpdating}})],1)}),[],!1,null,null,null);e.default=M.exports}}]);